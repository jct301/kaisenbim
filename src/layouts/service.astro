---
import type { CollectionEntry } from "astro:content";

import Hero from "@/components/hero-content.astro";
import Toc from "@/components/toc.astro";
import BaseLayout from "@/layouts/root.astro";
interface Props {
	service: CollectionEntry<"service">;
}

const { service } = Astro.props;
const { data } = service;
const { thumbnail, title } = data;
const { src, alt } = thumbnail;

const image = {
	src: src.src,
	alt,
	height: src.height,
	width: src.width,
};

const { headings } = await service.render();
---

<BaseLayout meta={{ title: service.data.title, description: service.data.description }}>
	<div class="gap-x-10 lg:flex lg:items-start">
		{!!headings.length && <Toc headings={headings} />}
		<article class="flex-grow" data-pagefind-body>
			<div id="blog-hero"><Hero thumbnail={image} title={title} /></div>
			<div>
				<slot />
			</div>
		</article>
	</div>
</BaseLayout>
